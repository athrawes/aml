Effect = use "Control/Effect"

module IO :> Effect

type IO<'a> =
  | Pending
  | Running
  | Complete<'a>

from = Complete

then = self callback -> match self
  | Complete (value) => callback value
  | Running => todo!
  | Pending => todo!
