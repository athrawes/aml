module IO extends Monad

type IO<'a> ≔
  | Pending
  | Running
  | Complete<'a>

from ≔ Complete

chain ≔ io → callback →
  match io
  | Complete (value) ⇒ callback value
  | Running ⇒ todo!
  | Pending ⇒ todo!
