Effect = use "Control/Effect"

module Result extends Effect

type Result<'ok, 'error> =
  | Ok 'ok
  | Error 'error

from = Ok

then = result callback ->
  match result
  | Ok (value) => callback value
  | Error (_) => result
