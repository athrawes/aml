Effect = use "Control/Effect"

module Result :> Effect

type Result<'ok, 'error> =
  | Ok 'ok
  | Error 'error

from = Ok

then = self callback ->
  match self
  | Ok (value) => callback value
  | Error (_) => self
