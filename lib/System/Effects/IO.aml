Effect = use "System/Control/Effect"

type IO<A>:
  | Pending
  | Running
  | Complete<A>

module IO extends Effect =
  # @inheritdoc
  from = Complete

  # @inheritdoc
  then = io -> callback ->
    match io
    | Complete [ value ] -> callback value
    | Running -> todo!
    | Pending -> todo!
