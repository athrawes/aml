Effect = use "System/Control/Effect"

Maybe<A>:
  | Some<A>
  | None

module Maybe extends Effect =
  # @inheritdoc
  from: A -> Maybe<A> = Maybe.Some

  # @inheritdoc
  then
    : Maybe<A> -> (A -> Maybe<B>) -> Maybe<B>
    = maybe -> callback ->
      match maybe
    | Some [ value ] -> callback value
    | None -> None
