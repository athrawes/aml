Effect = use "System.Control.Effect"

Maybe<A>:
  | Some<A>
  | None

module Maybe extends Effect =
  /** @inheritdoc */
  from: A -> Maybe<A> = Maybe.Some

  /** @inheritdoc */
  then
    : (A -> Maybe<B>) -> Maybe<A> -> Maybe<B>
    = callback -> maybe ->
      match maybe
      | Some { value } => callback value
      | _ => None
