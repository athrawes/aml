Effect = use "System/Control/Effect"

module Maybe :> Effect =
  type Some<A> = value -> { value }
  type None = _

  type Maybe<A> =
    | Some<A>
    | None

  # @inheritdoc
  from = Some

  # @inheritdoc
  then = maybe -> callback ->
    match maybe
    | Some { value } -> callback value
    | None -> None
