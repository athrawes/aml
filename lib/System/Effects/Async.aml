Effect = use "System/Control/Effect"

type Async<A>:
  | Pending
  | Resolved<A>

module Async :> Effect =
  # @inheritdoc
  from = Resolved

  # @inheritdoc
  then = async -> callback ->
    match async
    | Resolved [ value ] -> callback value
    | Pending -> todo!
