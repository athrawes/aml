Effect = use "System/Control/Effect"

Async<A> :
  | Pending<A>
  | Resolved<A>

module Async<A> extends Effect =
  # @inheritdoc
  from = Async.Pending

  # @inheritdoc
  then
    : Async<A> -> (A -> Async<B>) -> Async<B>
    = async -> callback ->
      await async |> callback

  await: Async<A> -> A = todo!
